(()=>{"use strict";var e={262:(e,t)=>{t.A=(e,t)=>{const n=e.__vccOpts||e;for(const[e,r]of t)n[e]=r;return n}}},t={};const n=Vue;const r=LaravelNova;function o(e){return o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},o(e)}function l(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"==typeof e)return i(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return i(e,t)}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,o=function(){};return{s:o,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var l,a=!0,c=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return a=e.done,e},e:function(e){c=!0,l=e},f:function(){try{a||null==n.return||n.return()}finally{if(c)throw l}}}}function i(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function a(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function c(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?a(Object(n),!0).forEach((function(t){s(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):a(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function s(e,t,n){return(t=function(e){var t=function(e,t){if("object"!==o(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==o(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===o(t)?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const u={props:["uniqueId"],data:function(){return{activeLocale:void 0,originalFieldName:void 0,fields:this.getInitialFields(),isMounted:!1}},beforeMount:function(){this.init()},mounted:function(){this.isMounted=!0,this.uniqueId&&Nova.$on(this.getAllLocalesEventName(this.uniqueId),this.setActiveLocale),Nova.$on(this.getAllLocalesEventName(),this.setActiveLocale)},beforeDestroy:function(){this.uniqueId&&Nova.$off(this.getAllLocalesEventName(this.uniqueId)),Nova.$off(this.getAllLocalesEventName())},computed:{locales:function(){var e=this,t=Object.keys(this.currentField.translatable.locales);return this.currentField.translatable.prioritize_nova_locale&&(t=t.sort((function(e,t){return e===Nova.config("locale")&&t!==Nova.config("locale")?-1:e!==Nova.config("locale")&&t===Nova.config("locale")?1:0}))),t.map((function(t){return{key:t,name:e.currentField.translatable.locales[t]}}))},fieldValueMustBeAnObject:function(){return["key-value-field"].includes(this.currentField.translatable.original_component)},isFlexible:function(){return this.$parent&&this.$parent.field&&"nova-flexible-content"===this.$parent.field.component},isSimpleRepeatable:function(){return this.$parent&&this.$parent.$parent&&this.$parent.$parent.field&&"simple-repeatable"===this.$parent.$parent.field.component},isFile:function(){return["file-field"].includes(this.currentField.translatable.original_component)},currentField:function(){return this.syncedField||this.field}},methods:{init:function(){var e=this;this.originalFieldName=this.currentField.name,this.activeLocale=this.locales[0].key;var t=this.getInitialValues(),n=this.getInitialPreviewFor();this.locales.forEach((function(r){return Object.assign(e.fields[r.key],c(c({},e.currentField),{},{dependsOn:null,extraAttributes:c({},e.currentField.extraAttributes||{}),value:t[r.key]||"",previewFor:n[r.key]||"",displayedAs:t[r.key]||"",attribute:"".concat(e.currentField.attribute,".").concat(r.key),validationKey:"".concat(e.currentField.validationKey,".").concat(r.key)}))}))},onSyncedField:function(){this.init()},getInitialPreviewFor:function(){var e,t={},n=l(this.locales);try{for(n.s();!(e=n.n()).done;){var r=e.value,o=this.currentField.translatable.previewFor&&this.currentField.translatable.previewFor[r.key]||"";t[r.key]=this.formatValue(o)}}catch(e){n.e(e)}finally{n.f()}return t},getInitialValues:function(){var e,t={},n=l(this.locales);try{for(n.s();!(e=n.n()).done;){var r=e.value,o=this.currentField.translatable.value&&this.currentField.translatable.value[r.key]||"";t[r.key]=this.formatValue(o)}}catch(e){n.e(e)}finally{n.f()}return t},getInitialFields:function(){var e=this.currentField||this.field,t=Object.keys(e.translatable.locales),n={};return t.forEach((function(e){n[e]={value:"",previewFor:"",readonly:"",extraAttributes:{},attribute:"",component:"",name:"",nullable:"",textAlign:""}})),n},setActiveLocale:function(e){this.activeLocale=e,this.refreshCodeMirror()},refreshCodeMirror:function(){var e=this;setTimeout((function(){if(e.$refs.main){var t=e.$refs.main.querySelectorAll(".CodeMirror");t.length&&t.forEach((function(e){return e.CodeMirror.refresh()}))}}),1)},setAllLocale:function(e){Nova.$emit(this.getAllLocalesEventName(),e)},formatValue:function(e){var t=e||"";if(this.fieldValueMustBeAnObject&&"string"==typeof t)try{t=JSON.parse(t||"{}")}catch(e){t={}}return t},getAllLocalesEventName:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:void 0,t=null!=e?e:void 0;return void 0!==t?"nova-translatable-".concat(t,"@setAllLocale"):"nova-translatable@setAllLocale"}}};const f={props:["activeLocale","locales","displayType","detail","resourceName","resourceId","field"],computed:{localesOptions:function(){return this.locales.map((function(e){return{label:e.name,value:e.key}}))},selectStyles:function(){var e={};switch(e.padding=this.detail?"1rem 0 1rem 0":"1rem",this.displayType){case"left-static":return e.marginRight="auto",e;case"right-static":return e.marginRight="0",e.marginLeft="auto",e;case"left-absolute":return e.position="absolute",e.left="0",e;default:return e.position="absolute",e.right="0",e}}}};var d=function n(r){var o=t[r];if(void 0!==o)return o.exports;var l=t[r]={exports:{}};return e[r](l,l.exports,n),l.exports}(262);const p=(0,d.A)(f,[["render",function(e,t,r,o,l,i){var a=(0,n.resolveComponent)("SelectControl");return(0,n.openBlock)(),(0,n.createElementBlock)("div",{class:"locale-select-field w-1/6 z-10",style:(0,n.normalizeStyle)(i.selectStyles)},[(0,n.createVNode)(a,{onChange:t[0]||(t[0]=function(t){return e.$emit("localeChanged",t)}),selected:r.activeLocale,class:"w-full form-control form-select",options:i.localesOptions},null,8,["selected","options"])],4)}]]),v={components:{LocaleSelect:p},mixins:[r.FormField,u],props:["resourceName","resourceId","resource","field"],methods:{fill:function(e){}}},y=(0,d.A)(v,[["render",function(e,t,r,o,l,i){var a=(0,n.resolveComponent)("LocaleSelect");return(0,n.openBlock)(),(0,n.createBlock)(a,{detail:!1,"active-locale":e.activeLocale,locales:e.locales,"display-type":r.field.translatable.display_type,onLocaleChanged:e.setAllLocale},null,8,["active-locale","locales","display-type","onLocaleChanged"])}]]);const h={components:{LocaleSelect:p},mixins:[u],props:["resourceName","resourceId","resource","field"]},m=(0,d.A)(h,[["render",function(e,t,r,o,l,i){var a=(0,n.resolveComponent)("LocaleSelect");return(0,n.openBlock)(),(0,n.createBlock)(a,{detail:!0,"active-locale":e.activeLocale,locales:e.locales,"display-type":r.field.translatable.display_type,onLocaleChanged:e.setAllLocale},null,8,["active-locale","locales","display-type","onLocaleChanged"])}]]);Nova.booting((function(e,t,n){e.component("form-locale-select-field",y),e.component("detail-locale-select-field",m),e.component("nova-translatable-locale-select",p)}))})();