(()=>{"use strict";var e={303:(e,t,r)=>{r.d(t,{Z:()=>a});var n=r(645),o=r.n(n)()((function(e){return e[1]}));o.push([e.id,".translatable-field .flex.border-t[data-v-b2ff1d90]{border-style:none!important}",""]);const a=o},53:(e,t,r)=>{r.d(t,{Z:()=>a});var n=r(645),o=r.n(n)()((function(e){return e[1]}));o.push([e.id,".translatable-field:not(:last-child) .field-wrapper[data-v-08e32088]{border-style:solid!important}",""]);const a=o},132:(e,t,r)=>{r.d(t,{Z:()=>a});var n=r(645),o=r.n(n)()((function(e){return e[1]}));o.push([e.id,".nova-translatable-locale-tabs{padding-top:.25rem;position:relative;z-index:2}.nova-translatable-locale-tabs .locale-tag{border-bottom:2px solid transparent}.nova-translatable-locale-tabs .locale-tag.-active{border-color:rgba(var(--colors-primary-500));color:rgba(var(--colors-primary-500))}.nova-translatable-locale-tabs .locale-tag.-error{border-color:rgba(var(--colors-red-500));color:rgba(var(--colors-red-500))}.nova-translatable-locale-tabs .locale-tag.-error.-active{color:rgba(var(--colors-primary-500))}",""]);const a=o},645:e=>{e.exports=function(e){var t=[];return t.toString=function(){return this.map((function(t){var r=e(t);return t[2]?"@media ".concat(t[2]," {").concat(r,"}"):r})).join("")},t.i=function(e,r,n){"string"==typeof e&&(e=[[null,e,""]]);var o={};if(n)for(var a=0;a<this.length;a++){var l=this[a][0];null!=l&&(o[l]=!0)}for(var i=0;i<e.length;i++){var c=[].concat(e[i]);n&&o[c[0]]||(r&&(c[2]?c[2]="".concat(r," and ").concat(c[2]):c[2]=r),t.push(c))}},t}},379:(e,t,r)=>{var n,o=function(){return void 0===n&&(n=Boolean(window&&document&&document.all&&!window.atob)),n},a=function(){var e={};return function(t){if(void 0===e[t]){var r=document.querySelector(t);if(window.HTMLIFrameElement&&r instanceof window.HTMLIFrameElement)try{r=r.contentDocument.head}catch(e){r=null}e[t]=r}return e[t]}}(),l=[];function i(e){for(var t=-1,r=0;r<l.length;r++)if(l[r].identifier===e){t=r;break}return t}function c(e,t){for(var r={},n=[],o=0;o<e.length;o++){var a=e[o],c=t.base?a[0]+t.base:a[0],s=r[c]||0,u="".concat(c," ").concat(s);r[c]=s+1;var d=i(u),f={css:a[1],media:a[2],sourceMap:a[3]};-1!==d?(l[d].references++,l[d].updater(f)):l.push({identifier:u,updater:h(f,t),references:1}),n.push(u)}return n}function s(e){var t=document.createElement("style"),n=e.attributes||{};if(void 0===n.nonce){var o=r.nc;o&&(n.nonce=o)}if(Object.keys(n).forEach((function(e){t.setAttribute(e,n[e])})),"function"==typeof e.insert)e.insert(t);else{var l=a(e.insert||"head");if(!l)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");l.appendChild(t)}return t}var u,d=(u=[],function(e,t){return u[e]=t,u.filter(Boolean).join("\n")});function f(e,t,r,n){var o=r?"":n.media?"@media ".concat(n.media," {").concat(n.css,"}"):n.css;if(e.styleSheet)e.styleSheet.cssText=d(t,o);else{var a=document.createTextNode(o),l=e.childNodes;l[t]&&e.removeChild(l[t]),l.length?e.insertBefore(a,l[t]):e.appendChild(a)}}function v(e,t,r){var n=r.css,o=r.media,a=r.sourceMap;if(o?e.setAttribute("media",o):e.removeAttribute("media"),a&&"undefined"!=typeof btoa&&(n+="\n/*# sourceMappingURL=data:application/json;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(a))))," */")),e.styleSheet)e.styleSheet.cssText=n;else{for(;e.firstChild;)e.removeChild(e.firstChild);e.appendChild(document.createTextNode(n))}}var p=null,b=0;function h(e,t){var r,n,o;if(t.singleton){var a=b++;r=p||(p=s(t)),n=f.bind(null,r,a,!1),o=f.bind(null,r,a,!0)}else r=s(t),n=v.bind(null,r,t),o=function(){!function(e){if(null===e.parentNode)return!1;e.parentNode.removeChild(e)}(r)};return n(e),function(t){if(t){if(t.css===e.css&&t.media===e.media&&t.sourceMap===e.sourceMap)return;n(e=t)}else o()}}e.exports=function(e,t){(t=t||{}).singleton||"boolean"==typeof t.singleton||(t.singleton=o());var r=c(e=e||[],t);return function(e){if(e=e||[],"[object Array]"===Object.prototype.toString.call(e)){for(var n=0;n<r.length;n++){var o=i(r[n]);l[o].references--}for(var a=c(e,t),s=0;s<r.length;s++){var u=i(r[s]);0===l[u].references&&(l[u].updater(),l.splice(u,1))}r=a}}}},744:(e,t)=>{t.Z=(e,t)=>{const r=e.__vccOpts||e;for(const[e,n]of t)r[e]=n;return r}}},t={};function r(n){var o=t[n];if(void 0!==o)return o.exports;var a=t[n]={id:n,exports:{}};return e[n](a,a.exports,r),a.exports}r.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return r.d(t,{a:t}),t},r.d=(e,t)=>{for(var n in t)r.o(t,n)&&!r.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},r.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),r.nc=void 0,(()=>{const e=Vue;var t={key:0,class:"translatable-field pt-2",ref:"main"};const n=LaravelNova;function o(e,t){var r="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=function(e,t){if(!e)return;if("string"==typeof e)return a(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return a(e,t)}(e))||t&&e&&"number"==typeof e.length){r&&(e=r);var n=0,o=function(){};return{s:o,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var l,i=!0,c=!1;return{s:function(){r=r.call(e)},n:function(){var e=r.next();return i=e.done,e},e:function(e){c=!0,l=e},f:function(){try{i||null==r.return||r.return()}finally{if(c)throw l}}}}function a(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function l(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function i(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?l(Object(r),!0).forEach((function(t){c(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):l(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function c(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}const s={props:["uniqueId"],data:function(){return{activeLocale:void 0,originalFieldName:void 0,fields:this.getInitialFields(),isMounted:!1}},beforeMount:function(){this.init()},mounted:function(){this.isMounted=!0,this.uniqueId&&Nova.$on(this.getAllLocalesEventName(this.uniqueId),this.setActiveLocale),Nova.$on(this.getAllLocalesEventName(),this.setActiveLocale)},beforeDestroy:function(){this.uniqueId&&Nova.$off(this.getAllLocalesEventName(this.uniqueId)),Nova.$off(this.getAllLocalesEventName())},computed:{locales:function(){var e=this,t=Object.keys(this.currentField.translatable.locales);return this.currentField.translatable.prioritize_nova_locale&&(t=t.sort((function(e,t){return e===Nova.config("locale")&&t!==Nova.config("locale")?-1:e!==Nova.config("locale")&&t===Nova.config("locale")?1:0}))),t.map((function(t){return{key:t,name:e.currentField.translatable.locales[t]}}))},fieldValueMustBeAnObject:function(){return["key-value-field"].includes(this.currentField.translatable.original_component)},isFlexible:function(){return this.$parent&&this.$parent.field&&"nova-flexible-content"===this.$parent.field.component},isSimpleRepeatable:function(){return this.$parent&&this.$parent.$parent&&this.$parent.$parent.field&&"simple-repeatable"===this.$parent.$parent.field.component},isFile:function(){return["file-field"].includes(this.currentField.translatable.original_component)},currentField:function(){return this.syncedField||this.field}},methods:{init:function(){var e=this;this.originalFieldName=this.currentField.name,this.activeLocale=this.locales[0].key;var t=this.getInitialValues();this.locales.forEach((function(r){return Object.assign(e.fields[r.key],i(i({},e.currentField),{},{dependsOn:null,extraAttributes:i({},e.currentField.extraAttributes||{}),value:t[r.key]||"",displayedAs:t[r.key]||"",attribute:"".concat(e.currentField.attribute,".").concat(r.key),validationKey:"".concat(e.currentField.attribute,".").concat(r.key)}))}))},onSyncedField:function(){this.init()},getInitialValues:function(){var e,t={},r=o(this.locales);try{for(r.s();!(e=r.n()).done;){var n=e.value,a=this.currentField.translatable.value&&this.currentField.translatable.value[n.key]||"";t[n.key]=this.formatValue(a)}}catch(e){r.e(e)}finally{r.f()}return t},getInitialFields:function(){var e=this.currentField||this.field,t=Object.keys(e.translatable.locales),r={};return t.forEach((function(e){r[e]={value:"",readonly:"",extraAttributes:{},attribute:"",component:"",name:"",nullable:"",textAlign:""}})),r},setActiveLocale:function(e){this.activeLocale=e,this.refreshCodeMirror()},refreshCodeMirror:function(){var e=this;setTimeout((function(){if(e.$refs.main){var t=e.$refs.main.querySelectorAll(".CodeMirror");t.length&&t.forEach((function(e){return e.CodeMirror.refresh()}))}}),1)},setAllLocale:function(e){Nova.$emit(this.getAllLocalesEventName(),e)},formatValue:function(e){var t=e||"";if(this.fieldValueMustBeAnObject&&"string"==typeof t)try{t=JSON.parse(t||"{}")}catch(e){t={}}return t},getAllLocalesEventName:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:void 0,t=null!=e?e:void 0;return void 0!==t?"nova-translatable-".concat(t,"@setAllLocale"):"nova-translatable@setAllLocale"}}};var u=["onClick","onDblclick"];const d={props:["locales","activeLocale","displayType","detail","errors","errorAttributes","localesWithErrors"],computed:{listClasses:function(){return"column"===this.displayType?["flex","flex-col"]:[]}},methods:{hasError:function(e){if(Array.isArray(this.localesWithErrors)&&this.localesWithErrors.includes(e))return!0;if(!this.errors||!this.errorAttributes)return!1;var t=this.errorAttributes[e];return this.errors.has(t)}}};var f=r(379),v=r.n(f),p=r(132),b={insert:"head",singleton:!1};v()(p.Z,b);p.Z.locals;var h=r(744);const y=(0,h.Z)(d,[["render",function(t,r,n,o,a,l){return(0,e.withDirectives)(((0,e.openBlock)(),(0,e.createElementBlock)("div",{class:(0,e.normalizeClass)(["nova-translatable-locale-tabs flex select-none",{"px-8":!this.detail}])},["none"!=n.displayType?((0,e.openBlock)(),(0,e.createElementBlock)("div",{key:0,class:(0,e.normalizeClass)(["ml-auto",l.listClasses])},[((0,e.openBlock)(!0),(0,e.createElementBlock)(e.Fragment,null,(0,e.renderList)(n.locales,(function(r){return(0,e.openBlock)(),(0,e.createElementBlock)("a",{key:r.key,class:(0,e.normalizeClass)(["locale-tag ml-3 cursor-pointer font-bold text-80 text-sm",{"-active":r.key===n.activeLocale,"-error":l.hasError(r.key)}]),onClick:function(){return t.$emit("tabClick",r.key)},onDblclick:function(){return t.$emit("doubleClick",r.key)}},(0,e.toDisplayString)(r.name),43,u)})),128))],2)):(0,e.createCommentVNode)("",!0)],2)),[[e.vShow,n.locales.length>1]])}]]);function m(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==r)return;var n,o,a=[],l=!0,i=!1;try{for(r=r.call(e);!(l=(n=r.next()).done)&&(a.push(n.value),!t||a.length!==t);l=!0);}catch(e){i=!0,o=e}finally{try{l||null==r.return||r.return()}finally{if(i)throw o}}return a}(e,t)||k(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function g(e,t){var r="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=k(e))||t&&e&&"number"==typeof e.length){r&&(e=r);var n=0,o=function(){};return{s:o,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,l=!0,i=!1;return{s:function(){r=r.call(e)},n:function(){var e=r.next();return l=e.done,e},e:function(e){i=!0,a=e},f:function(){try{l||null==r.return||r.return()}finally{if(i)throw a}}}}function k(e,t){if(e){if("string"==typeof e)return A(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?A(e,t):void 0}}function A(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}const x={components:{LocaleTabs:y},mixins:[n.HandlesValidationErrors,n.DependentFormField,s],props:["field","resourceId","resourceName"],methods:{setInitialValue:function(){},isKeyAnArray:function(e){return!!e.match(/\[\d+\]$/g)},getKeyAndValue:function(e,t,r){var n=t.key.length+1,o=e;o.slice(-n)===".".concat(t.key)&&(o=o.slice(0,-n));var a=!!o.match(/\[\d+\]$/g);if(a){var l=/\[\d+\]$/g.exec(o);o="".concat(o.slice(0,l.index-n)).concat(o.slice(l.index))}if(a){var i=/\[\d+\]$/g.exec(o);return["".concat(o.slice(0,i.index),"[").concat(t.key,"]").concat(o.slice(i.index)),r.get(e)]}return["".concat(o,"[").concat(t.key,"]"),r.get(e)]},fill:function(e){try{if(this.isFlexible&&this.isFile)return alert("Sorry, nova-translatable File and Image fields inside Flexible currently do not work.");var t,r={},n=this.currentField.translatable.original_attribute,o=g(this.locales);try{for(o.s();!(t=o.n()).done;){var a=t.value,l=new FormData;this.fields[a.key].fill(l);for(var i=Array.from(l.keys()),c=0,s=i;c<s.length;c++){var u=s[c],d=m(this.getKeyAndValue(u,a,l),2),f=d[0],v=d[1];this.isFlexible&&f.endsWith(n+"[".concat(a.key,"]"))||this.isSimpleRepeatable?this.isKeyAnArray(u)?(r[a.key]||(r[a.key]=[]),r[a.key].push(v)):r[a.key]=v:e.append(f,v)}}}catch(e){o.e(e)}finally{o.f()}return void((this.isFlexible||this.isSimpleRepeatable)&&e.append(n,JSON.stringify(r)))}catch(e){console.error(e)}}},computed:{errorAttributes:function(){var e,t={},r=g(this.locales);try{for(r.s();!(e=r.n()).done;){var n=e.value;t[n.key]="".concat(this.currentField.attribute,".").concat(n.key)}}catch(e){r.e(e)}finally{r.f()}return t}}};var w=r(53),F={insert:"head",singleton:!1};v()(w.Z,F);w.Z.locals;const C=(0,h.Z)(x,[["render",function(r,n,o,a,l,i){var c=(0,e.resolveComponent)("LocaleTabs");return r.currentField.visible?((0,e.openBlock)(),(0,e.createElementBlock)("div",t,[(0,e.createVNode)(c,{locales:r.locales,"active-locale":r.activeLocale,"display-type":r.currentField.translatable.display_type,errors:r.errors,"error-attributes":i.errorAttributes,onTabClick:r.setActiveLocale,onDoubleClick:r.setAllLocale},null,8,["locales","active-locale","display-type","errors","error-attributes","onTabClick","onDoubleClick"]),((0,e.openBlock)(!0),(0,e.createElementBlock)(e.Fragment,null,(0,e.renderList)(r.locales,(function(t){return(0,e.openBlock)(),(0,e.createElementBlock)("div",{key:t.key},[(0,e.withDirectives)(((0,e.openBlock)(),(0,e.createBlock)((0,e.resolveDynamicComponent)("form-"+r.currentField.translatable.original_component),{field:r.fields[t.key],"resource-name":o.resourceName,errors:r.errors,"translatable-locale":t.key,"show-help-text":r.showHelpText},null,8,["field","resource-name","errors","translatable-locale","show-help-text"])),[[e.vShow,t.key===r.activeLocale]])])})),128))],512)):(0,e.createCommentVNode)("",!0)}],["__scopeId","data-v-08e32088"]]);var L={class:"translatable-field pt-2 border-t border-gray-100 dark:border-gray-700 -mx-6 px-6",ref:"main"};const N={components:{LocaleTabs:y},mixins:[s],props:["resourceName","resourceId","resource","field"]};var O=r(303),E={insert:"head",singleton:!1};v()(O.Z,E);O.Z.locals;const S=(0,h.Z)(N,[["render",function(t,r,n,o,a,l){var i=(0,e.resolveComponent)("LocaleTabs");return(0,e.openBlock)(),(0,e.createElementBlock)("div",L,[(0,e.createVNode)(i,{detail:!0,locales:t.locales,"active-locale":t.activeLocale,"display-type":n.field.translatable.display_type,onTabClick:r[0]||(r[0]=function(e){return t.activeLocale=e}),onDoubleClick:t.setAllLocale},null,8,["locales","active-locale","display-type","onDoubleClick"]),((0,e.openBlock)(!0),(0,e.createElementBlock)(e.Fragment,null,(0,e.renderList)(t.locales,(function(r){return(0,e.openBlock)(),(0,e.createElementBlock)("div",{key:r.key},[(0,e.withDirectives)(((0,e.openBlock)(),(0,e.createBlock)((0,e.resolveDynamicComponent)("detail-"+n.field.translatable.original_component),{field:t.fields[r.key],"translatable-locale":r.key,"resource-name":n.resourceName},null,8,["field","translatable-locale","resource-name"])),[[e.vShow,r.key===t.activeLocale]])])})),128))],512)}],["__scopeId","data-v-b2ff1d90"]]);const j={mixins:[s],props:["resourceName","resourceId","resource","field"]},B=(0,h.Z)(j,[["render",function(t,r,n,o,a,l){return(0,e.openBlock)(),(0,e.createBlock)((0,e.resolveDynamicComponent)("index-"+n.field.translatable.original_component),{field:t.fields[t.activeLocale],"translatable-locale":t.activeLocale,"resource-name":n.resourceName},null,8,["field","translatable-locale","resource-name"])}]]);Nova.booting((function(e){e.component("index-translatable-field",B),e.component("form-translatable-field",C),e.component("detail-translatable-field",S),e.component("nova-translatable-locale-tabs",y)}))})()})();